<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" id="uwo">
<head>

    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />

    <!--[if lte IE 6]>
        <script type="text/JavaScript"> try { document.execCommand("BackgroundImageCache", false, true); } catch(err) {} </script>
        <link rel="stylesheet" type="text/css" href="http://static.weboffice.uwa.edu.au/visualid/styles/id-ie6down.css" media="all" />
    <![endif]-->

    <link rel="stylesheet" type="text/css" href="/newcss/visual_id-core.css" media="all" />
    <link rel="stylesheet" type="text/css" href="/newcss/visual_id-nonvisual.css" media="aural, braille" />
    <link rel="stylesheet" type="text/css" href="/newcss/visual_id-print.css" media="print" />

    <script type="text/JavaScript" src="/newcss/visual_id-core.js"></script>
<!-- Begin CSS in the queue to be promoted to core or a devices file -->

<link media="all" href="/newcss/designs_contact_us_compatibility.css" type="text/css" rel="stylesheet" />

<link media="all" href="/newcss/designs_testimonial_dl.css" type="text/css" rel="stylesheet" />

<link media="print" href="/newcss/designs_core_print.css" type="text/css" rel="stylesheet" />

<link media="all" href="/newcss/designs_graduate_profiles.css" type="text/css" rel="stylesheet" />

<link media="all" href="/newcss/designs_newsarticle.css" type="text/css" rel="stylesheet" />

<link media="all" href="/newcss/designs_studentnet_definition_lists.css" type="text/css" rel="stylesheet" />

<link media="all" href="cnet.css" type="text/css" rel="stylesheet" />

<!-- <link media="all" href="http://static.weboffice.uwa.edu.au/visualid/styles/id-cat.php?include=site-sections" type="text/css" rel="stylesheet" />Edit 2009.05.21, Guan Ming Teo: temporary fix until we find them all in new core -->
<!-- <link media="all"
href="/newcss/designs_mings-landing-3-col-layout.css" type="text/css"
rel="stylesheet" /> -->
<!--<link media="all" href="http://www-p1.matrix.its.uwa.edu.au/_designs/newcss/devices_-_dev/aus-int_listicons.css" type="text/css" rel="stylesheet" />-->

<!-- End staging CSS -->
<link media="all" href="/newcss/visual_id-cat.css" type="text/css" rel="stylesheet" />
<link rel="stylesheet" type="text/css" href="/newcss/designs_school-csse.css" media="all" />

<style type="text/css"> #headertitle { background-image: url("/newcss/graphics/school-csse.gif"); } </style>

    <title>The cnet network simulator (v3.3.1)</title>

</head>
<body class="pagetype-landing landing-3-col faculty-ecm">

<div id="bodycontainer">
<!--begin #IEroot targeting [by Hiroki Chalfant]-->
<!--[if IE]><div id="ieAny"><![endif]-->
<!--[if lte IE 6]><div id="ie6down"><![endif]-->
<!--[if IE 7]><div id="ie7"><![endif]-->
<!--[if gte IE 8]><div id="ie8up"><![endif]-->


    <!-- Topmost block, including the search form -->
    <div id="Xeadercontainer">
        <!--[if IE 6]><div class="ie6expander"><div class="ie6sizer"><![endif]-->

	<table style="width: 100%;">
	<tr style="height: 3px; background-color: #ce7019;">
		<td colspan="2"></td>
	</tr>

	<tr style="height: 6px; background-color: black;">
	    <td colspan="2">
            <div id="ql_outer"><div id="ql_inner">
<!--begin-quicklinks-list-->
                <ul id="ql_list">
                    <li><a href="http://www.uwa.edu.au/atoz" onclick="dcsMultiTrack('WT.ac', 'Quicklinks%20AtoZ');">A-Z websites</a></li>
                    <li><a href="http://www.uwa.edu.au/contact" onclick="dcsMultiTrack('WT.ac', 'Quicklinks%20Contact');">Contact us</a></li>
                    <li><a href="http://www.uwa.edu.au/campus_map" onclick="dcsMultiTrack('WT.ac', 'Quicklinks%20CampusMap');">Campus map</a></li>
                    <li><a href="http://www.library.uwa.edu.au/" onclick="dcsMultiTrack('WT.ac', 'Quicklinks%20Library');">Library</a></li>
                    <li><a href="http://my.uwa.edu.au/" onclick="dcsMultiTrack('WT.ac', 'Quicklinks%20MyUWA');">MyUWA</a></li>
                    <li><a href="http://www.uwa.edu.au/webmail" onclick="dcsMultiTrack('WT.ac', 'Quicklinks%20Webmail');">Webmail</a></li>
                    <li><a href="http://webct.uwa.edu.au/webct/entryPageIns.dowebct" onclick="dcsMultiTrack('WT.ac', 'Quicklinks%20Webct');">WebCT</a></li>
                </ul>
<!--end-quicklinks-list-->
                <a id="ql_button" href="#">Quick&nbsp;Links</a>
                <div id="ql_extra"></div>
            </div></div><!--end #ql_outer, #ql_inner-->
	    </td>
	</tr>

	<tr>
	<td style="text-align: left;  vertical-align: middle; background-color: black;">
	    <img style="width: 200px;" alt="" src="/newcss/graphics/uwacrest.gif" />
	</td>
	<td style="text-align: right; vertical-align: middle; background-color: black;">
	    <img style="width: 400px;" alt="" src="/newcss/graphics/school-csse.gif" />
	    &nbsp;&nbsp;&nbsp;
	</td>
	</tr>

	<tr style="height: 6px; background-color: black;">
		<td colspan="2"></td>
	</tr>
	</table>

	<table>
	<tr style="background: url(/newcss/graphics/search-background.gif) repeat-x bottom;">
	    <td style="vertical-align: middle; white-space: nowrap;">

            <div class="vmiddle_outer"><div class="vmiddle_middle"><div class="vmiddle_inner">
                <div id="locallinks">
                    <ul>
<!--
  <li><a href="http://www.ecm.uwa.edu.au">Faculty Home</a></li>

  <li><a href="http://web.csse.uwa.edu.au">CSSE Home</a></li>
-->

  <li><a href="index.html">cnet's Home</a></li>

  <li><a href="api.html">cnet's API</a></li>

  <li><a href="faq.html">cnet's FAQ</a></li>
		    </ul>
		</div><!--end #locallinks-->

            </div></div></div><!--end .vmiddle_*-->
 
	    </td>
	    <td style="width: 80%;"></td>
	</tr>
	<tr>
	    <td style="height: 1px; background-color: #aaaaaa;" colspan=5></td>
	</tr>
	</table>

        <!--[if IE 6]></div></div><![endif]--><!--end .ie6expander, .ie6sizer-->
    </div><!--end #headercontainer-->

<table><tr>
<td style="font-size: 1.2em; padding:8px; text-align: left;" width="98%">

<!-- ----------------- BOTTOM-OF-HEADER ----------------------------- -->








<h3><i>cnet's</i> local area network (LAN) segments</a></h3>

<p>
As of version 2.0, <i>cnet</i> supports
local-area network (LAN) segments,
that can closely follow the specifications of IEEE&nbsp;802.3 Ethernet segments.
Each segment consists of two or more Network Interface Cards (NICs) that
connect host nodes, routers, or accesspoints to the segment.
Large networks may be constructed by joining multiple LAN segments via
gateway nodes and WAN links.
</p>

<p>
<i>cnet</i> provides access to each NIC's address as a field of the
standard <tt>linkinfo</tt> structure.
The <a href="datatypes.html#nicaddr"><tt>CnetNICaddr</tt></a>
datatype stores each NIC address as an array of 
<tt>LEN_NICADDR</tt> (=6) unsigned characters.
<i>cnet</i> also provides the functions
<a href="physical.html#parse_nicaddr"><tt>CNET_parse_nicaddr</tt></a> and
<a href="physical.html#format_nicaddr"><tt>CNET_format_nicaddr</tt></a>
to convert between character strings and the <tt>CnetNICaddr</tt> datatype.
</p>

<p>
<i>cnet</i> checks and warns if two NIC addresses in a topology files 
are the same, but does not demand their uniqueness.
This permits the development of malicious snooping/sniffing "protocols"
that use
<a href="physical.html#set_nicaddr"><tt>CNET_set_nicaddr</tt></a>
to masquerade as other nodes.
</p>

<!--
Although no nodes or segments have explicitly given their <tt>x,y</tt>
coordinates, <i>cnet</i> does a modest job of drawing the network
(though don't expect miracles for complex networks).
To present a reasonable looking display,
you should provide <tt>x,y</tt> coordinates for the left-hand end of
a segment, or the coordinates for any node.
Segments are first positioned (all horizontally) and separated,
and then nodes are drawn on the segments.
Any missing node coordinates are determined from known points.
<p>
-->

<p>
<h3>Reading and writing data via LAN segments</h3>

It is anticiapted that frames written to <tt>LT_LAN</tt> links will
carry the address of their destination Network Interface Card (NIC)
near the beginning of the frame.
Consider the following example function to write data to a LAN segment:
</p>

<p>
<table class="code"><tr><td class="code"><pre>
<b>typedef struct</b> {
    CnetNICaddr    dest;
    CnetNICaddr    src;
    <b>char</b>           type[2];
    <b>char</b>           data[LAN_MAXDATA];
} ETHERPACKET;

#define LEN_ETHERHEADER (2*sizeof(CnetNICaddr) + 2*sizeof(char))

<b>void</b> write_to_lan(CnetNICaddr dest, <b>int</b> link, <b>char</b> *buf, size_t length)
{
    ETHERPACKET    packet;
    <b>short int</b>      twobytes;

    memcpy(packet.dest, dest,                   <b>sizeof</b>(CnetNICaddr));
    memcpy(packet.src,  linkinfo[link].nicaddr, <b>sizeof</b>(CnetNICaddr));

    twobytes = length;           <i>// type carries the data's true length</i>
    memcpy(packet.type, &amp;twobytes, 2);
    memcpy(packet.data, buf, length);

    length  += LEN_ETHERHEADER;
    <b>if</b>(length &lt; ETH_MINPACKET)   <i>// pad short packets to minimum length</i>
        length = ETH_MINPACKET;
    CHECK( CNET_write_physical(link, (<b>char</b> *)&amp;packet, &amp;length) );
}<pre>
</td></tr></table>
</p>

<p>
This simplified function assumes that the data's length is not too long
for the LAN (<tt>&lt;=&nbsp;LAN_MAXDATA</tt> (=1500) bytes).
The destination's NIC address is first copied to the destination
address field,
and the address of the local NIC used is copied to the source address field.
Notice that because the <tt>CnetNICaddr</tt> type is actually an array of
characters, we do not use the &amp; operator in the calls to <tt>memcpy</tt>.
</p>

<p>
The data's true length is copied into the packet's two-byte <tt>type</tt>
field, and the provided data copied to the packet's data.
After ensuring that the packet to be written is at least
<tt>ETH_MINPACKET</tt> (=64) bytes long,
the packet is written to the link.
</p>

<p>
Again, <i>cnet</i> does not enforce (nor understand) the use of
<i>our</i> <tt>ETHERPACKET</tt> data type.
</p>

<p>
<h3>Limitations</h3>

<i>cnet</i>'s simulation of IEEE&nbsp;802.3 Ethernets is reasonable,
but not perfect.
<i>cnet</i> supports a fixed transmission rate of 10Mbps,
a slot-time of 52usecs, broadcast addressing,
collision detection, jamming, and binary exponential backoff.
It does not support sub-microsecond timing, jitter control,
nor multicast addressing.
Each segment is considered to be a full 2.5km long,
and all nodes on a segment are considered to be equally spaced
along the segment.
</p>

<p>
<b>You are not encouraged to use <i>cnet</i> as a tool to design
an Ethernet-based network against explicit capacity carrying objectives.</b>

<!-- -------------------- TOP-OF-FOOTER ------------------------------ -->

</td></tr></table>

<hr style="text-align: center;">
<p>
<span style="color: #666666; white-space: nowrap">
&nbsp;cnet v3.3.1, written by Chris.McDonald@uwa.edu.au<br>
&nbsp;Last modified: Thu Apr 10  4:35PM 2014
</span>

<!--[if IE]></div></div><![endif]--><!--end #IEroot targeting-->
</div><!--end #bodycontainer-->

</body>
</html>
